---
title: "Publications"
date: "`r Sys.Date()`"
output:
  distill::distill_article:
    self_contained: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      message = FALSE
                      )
```

```{r deps}
library(reticulate)
use_python('~/miniconda3/bin/python')
```

```{python pubs}
from publications import *
entries = parse_entries()
bib = list()
idx = len(entries)
for entry in entries:
    #bib.append(f"{idx}. {entry.bib}")
    bib.append(f"1. {entry.bib} {entry.altmetric_donut}")
    idx -= 1
#bib.append('{: reversed="reversed"}')
```


```{r, list, results='asis'}
cat(paste0(py$bib, sep = '\n'))
```

